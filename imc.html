<!DOCTYPE html>

<head>
    <script>
 //global
        var elto_img;//esta variable es el img
        var num_veces = 0;
        
        function calcularIMC(){
            //local

           

            num_veces= num_veces+1;
            console.log("has calculado tu imc " + num_veces + " veces");

            //comprobamos si existe el elemtno imagen
            var div_imagen = document.getElementById("div_imagen");
            var nhijos = div_imagen.childElementCount;
            if (nhijos==1)
            {
                //existe un hijo
                //vaciar la imagen el src
                elto_img.src="";
            } else {
                //no existe
                //crear el elemento
                elto_img = document.createElement("img");
                div_imagen.appendChild(elto_img);
            }


           /* if (div_imagen.hasChildNodes())//si el div tiene hijos
            {
                console.log("Tenía un hijo");
                div_imagen.removeChild(div_imagen.childNodes[0]);
                console.log("Lo borro");
            } else {
                console.log("DIV NO Teníahijo");
            }*/
            // Obtener peso y estatura
            var estatura = parseFloat(document.getElementById("estatura").value);
            var peso = parseFloat(document.getElementById("peso").value);
            console.log("estatura "+estatura);
            console.log("peso "+peso);

            // Calcular IMC
            var imc = peso / (Math.pow(estatura,2));
            console.log("imc "+imc);
            //creo el elemento img
           
            //div_imagen = document.getElementById("div_imagen");

            // Mostrar imagenes
            var resultado;
            if(imc<16){
                resultado = "DESNUTRIDO";
                //document.getElementById("imagen").src = "imgimc/desnutrido.jpg";
                elto_img.src="imgimc/desnutrido.jpg";
            }else if(imc>=16 && imc<18){
                resultado = "DELGADO";
                //document.getElementById("imagen").src = "imgimc/delgado.jpg";
                elto_img.src="imgimc/delgado.jpg";
            }else if(imc>=18 && imc<25){
                resultado = "IDEAL";
                //document.getElementById("imagen").src = "imgimc/ideal.jpg";
                elto_img.src="imgimc/ideal.jpg";
            }else if(imc>=25 && imc<31){
                resultado = "SOBREPESO";
               // document.getElementById("imagen").src = "imgimc/sobrepeso.jpg";
                elto_img.src="imgimc/sobrepeso.jpg";
            }else /*if(imc>31)*/ {
                resultado = "OBESO";
                //document.getElementById("imagen").src = "imgimc/homer.png";
                elto_img.src="imgimc/homer.png";
            }
            // Mostrar resultado
            alert("imc "+resultado);
            //div_imagen.appendChild(elto_img);
    

        }
        
    </script>
    <style>
        .titulos1 {
            color: darkblue;
            font-size: 23px;
        }

        .titulos1:hover {
            color: red;
            font-size: 23px;
        }
        
    </style>
</head>

<body>
    <h1 class="titulos1">Calcular IMC</h1>
    <a  href="https://es.wikipedia.org/wiki/%C3%8Dndice_de_masa_corporal">IMC</a>
    <input type="text" id="estatura" placeholder="estatura (m)">
    <input type="text" id="peso" placeholder="peso (kg)">
    <button type="button" onclick="calcularIMC();">Calcular</button>
    <!--<img id="imagen"> HOOK GANCHO O PUNTO DE ANCLAJE-->
    <div id="div_imagen"></div>

</body>
<footer>

</footer>